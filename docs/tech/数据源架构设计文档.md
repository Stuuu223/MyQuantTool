# æ•°æ®æºæ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“Š é—®é¢˜æ ¹å› åˆ†æ

### 1. AkShare æ•°æ®æ¥æºæœºåˆ¶

```
AkShare ä»£ç 
    â†“
å‘é€ HTTP è¯·æ±‚åˆ°ä¸œæ–¹è´¢å¯Œç½‘é¡µ
    â†“
ä¸œæ–¹è´¢å¯ŒæœåŠ¡å™¨è¿”å› JSON æ•°æ®
    â†“
AkShare è§£æ JSON å¹¶è¿”å›ç»™ä½ 
```

**å…³é”®ç‚¹**ï¼šAkShare ä¾èµ–ä¸œæ–¹è´¢å¯Œçš„ç½‘é¡µæ¥å£

### 2. ä¸ºä»€ä¹ˆåªè¿”å›å†å²æ•°æ®ï¼ˆæœ€æ–° 2025-08-06ï¼‰ï¼Ÿ

**åŸå› **ï¼šä¸œæ–¹è´¢å¯Œä¿®æ”¹äº†æ¥å£åè®®

**æ—¶é—´çº¿**ï¼š
- **2025å¹´8æœˆä¹‹å‰**ï¼š
  - ä¸œæ–¹è´¢å¯Œæä¾›å…¬å¼€ API
  - â†’ AkShare æ­£å¸¸è®¿é—®
  - â†’ å®æ—¶æ•°æ®å¯ç”¨

- **2025å¹´8æœˆä¹‹å**ï¼š
  - ä¸œæ–¹è´¢å¯Œå‡çº§ç³»ç»Ÿ
  - â†’ è€æ¥å£åœæ­¢æ›´æ–°ï¼ˆå†»ç»“åœ¨ 2025-08-06ï¼‰
  - â†’ æ–°æ¥å£éœ€è¦é‰´æƒï¼ˆéœ€è¦ Token æˆ–ä»˜è´¹ï¼‰
  - â†’ AkShare è¿˜åœ¨è°ƒç”¨è€æ¥å£ï¼ˆæ‰€ä»¥æ‹¿ä¸åˆ°æ–°æ•°æ®ï¼‰

**è¯æ®**ï¼š
```python
# ä½ è°ƒç”¨çš„æ¥å£è¿”å›äº†ä»€ä¹ˆï¼Ÿ
{
    "date": "2025-08-06",  # â† æœ€åæ›´æ–°æ—¥æœŸ
    "ä¸»åŠ›å‡€æµå…¥": 12345678,
    "è¶…å¤§å•å‡€æµå…¥": ...,
    ...
}

# ä¸ºä»€ä¹ˆå†»ç»“åœ¨è¿™ä¸ªæ—¥æœŸï¼Ÿ
# â†’ ä¸œæ–¹è´¢å¯Œåœ¨ 2025-08-06 ä¹‹ååˆ‡æ¢åˆ°æ–°ç³»ç»Ÿ
# â†’ è€æ¥å£ä¸å†æ›´æ–°æ•°æ®
```

### 3. ä¸ºä»€ä¹ˆæ’è¡Œæ¦œæ¥å£è¿æ¥å¤±è´¥ï¼Ÿ

**åŸå› **ï¼šä¸œæ–¹è´¢å¯Œå½»åº•å…³é—­äº†è¿™ä¸ªæ¥å£

**å¯èƒ½çš„æƒ…å†µ**ï¼š
- **æƒ…å†µA**ï¼šæ¥å£ URL å˜äº†
  - è€ URL: `http://data.eastmoney.com/zjlx/xxx`
  - æ–° URL: `http://api.eastmoney.com/v2/zjlx/xxx`  # AkShare ä¸çŸ¥é“

- **æƒ…å†µB**ï¼šæ¥å£éœ€è¦é‰´æƒäº†
  - è€æ¥å£ï¼šå…¬å¼€è®¿é—®
  - æ–°æ¥å£ï¼šéœ€è¦ Tokenï¼ˆä»˜è´¹ç”¨æˆ·æ‰èƒ½è®¿é—®ï¼‰

- **æƒ…å†µC**ï¼šæ¥å£è¢«ä¸‹çº¿äº†
  - ä¸œæ–¹è´¢å¯Œå†³å®šä¸å†æä¾›è¿™ä¸ªæ•°æ®ï¼ˆå•†ä¸šè€ƒè™‘ï¼‰

**AkShare è¿˜åœ¨è¯·æ±‚è€ URL â†’ 404 æˆ– 403**

---

## ğŸ”¬ éªŒè¯æ–¹æ³•

### æµ‹è¯•1ï¼šæ£€æŸ¥ AkShare ç‰ˆæœ¬

```python
import akshare as ak
print(ak.__version__)

# å¦‚æœç‰ˆæœ¬è¿‡æ—§ï¼ˆæ¯”å¦‚ 1.10.xï¼‰ï¼Œå¯èƒ½æœªé€‚é…æ–°æ¥å£
# æœ€æ–°ç‰ˆæœ¬ï¼ˆæˆªè‡³ 2026å¹´ï¼‰åº”è¯¥æ˜¯ 1.14.x+
```

### æµ‹è¯•2ï¼šç›´æ¥è®¿é—®ä¸œæ–¹è´¢å¯Œæ¥å£

```python
import requests

# å°è¯•è®¿é—®åŸå§‹æ¥å£
url = "http://push2.eastmoney.com/api/qt/stock/fflow/kline/get"
params = {
    "secid": "1.000001",  # å¹³å®‰é“¶è¡Œ
    "fields1": "f1,f2,f3,f7",
    "fields2": "f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61,f62,f63",
    "klt": "101",  # æ—¥çº¿
    "lmt": "1"
}

response = requests.get(url, params=params)
print(response.status_code)  # 200 = æˆåŠŸï¼Œ403 = ç¦æ­¢ï¼Œ404 = ä¸å­˜åœ¨
print(response.json())
```

### æµ‹è¯•3ï¼šæŸ¥çœ‹ AkShare å®˜æ–¹ Issue

è®¿é—®ï¼šhttps://github.com/akfamily/akshare/issues

æœç´¢å…³é”®è¯ï¼š
- "ä¸œæ–¹è´¢å¯Œ"
- "èµ„é‡‘æµå‘"
- "stock_individual_fund_flow"
- "æ¥å£å¤±æ•ˆ"

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šå‡çº§ AkShare åˆ°æœ€æ–°ç‰ˆ

```bash
# å¸è½½æ—§ç‰ˆæœ¬
pip uninstall akshare -y

# å®‰è£…æœ€æ–°ç‰ˆæœ¬
pip install akshare --upgrade

# æˆ–è€…æŒ‡å®šæœ€æ–°ç‰ˆæœ¬
pip install akshare==1.14.57
```

éªŒè¯ï¼š

```python
import akshare as ak

# é‡æ–°æµ‹è¯•
data = ak.stock_individual_fund_flow(stock="000001", market="sz")
print(data.tail())  # æŸ¥çœ‹æœ€æ–°æ—¥æœŸ

# åº”è¯¥èƒ½çœ‹åˆ° 2026-01-xx çš„æ•°æ®
```

---

## ğŸ—ï¸ ç»ˆæè§£å†³æ–¹æ¡ˆï¼šåˆ†å±‚æ•°æ®æ¶æ„

### æ ¸å¿ƒæ€è·¯

```
å…¨å¸‚åœºæ‰«æï¼ˆ5000åªè‚¡ç¥¨ï¼‰
    â†“
ä¸èƒ½ç”¨ AkShareï¼ˆä¼šè¢«å°ï¼‰
    â†“
å¿…é¡»ç”¨ QMT Tickï¼ˆæœ¬åœ°æ— é™åˆ¶ï¼‰
    â†“
ä½† QMT DDE ä¸å‡†ç¡®
    â†“
è§£å†³æ–¹æ¡ˆï¼šåˆ†å±‚è¿‡æ»¤
```

---

## ğŸ“Š åˆ†å±‚æ•°æ®æ¶æ„è®¾è®¡

### ç¬¬ä¸€å±‚ï¼šæµ·é€‰ï¼ˆQMT Tickï¼‰

```python
# ç”¨ QMT å¿«é€Ÿæ‰«æå…¨å¸‚åœº
# ç›®æ ‡ï¼šä» 5000 åªç¼©å°åˆ° 50 åªå€™é€‰

candidates = []

for stock in all_5000_stocks:
    # ä½¿ç”¨ QMT æ•°æ®ï¼ˆæ¯«ç§’çº§ï¼Œæ— é™åˆ¶ï¼‰
    data = xtdata.get_full_tick([stock])

    # åŸºç¡€è¿‡æ»¤æ¡ä»¶ï¼ˆä¸ä¾èµ– DDEï¼‰
    if (
        data['lastPrice'] > data['upLimitPrice'] * 0.99  # æ¶¨åœæˆ–æ¥è¿‘æ¶¨åœ
        and data['volume'] > avg_volume * 1.5            # æ”¾é‡
        and price_in_range(10, 50)                       # ä»·æ ¼åˆç†
        and ma60_trending_up()                           # è¶‹åŠ¿å‘ä¸Š
    ):
        candidates.append(stock)

# ç»“æœï¼š50 åªå€™é€‰è‚¡ç¥¨
```

### ç¬¬äºŒå±‚ï¼šç²¾é€‰ï¼ˆAkShare ç²¾å‡†åˆ†æï¼‰

```python
# åªå¯¹ 50 åªå€™é€‰è‚¡è°ƒç”¨ AkShare
# é¢‘ç‡ï¼š50 æ¬¡è¯·æ±‚ << 5000 æ¬¡ï¼ˆä¸ä¼šè¢«å°ï¼‰

final_picks = []

for stock in candidates:
    # ç°åœ¨å¯ä»¥å®‰å…¨è°ƒç”¨ AkShare
    try:
        # è·å–å‡†ç¡®çš„èµ„é‡‘æµå‘æ•°æ®
        dde = akshare.stock_individual_fund_flow(stock)
        large_orders = akshare.stock_large_order(stock)

        # ç²¾å‡†åˆ¤æ–­
        if dde['net_inflow'] > 1000ä¸‡ and large_orders['buy_ratio'] > 0.7:
            final_picks.append({
                'stock': stock,
                'dde': dde,
                'large_orders': large_orders,
                'source': 'AKSHARE_ACCURATE'
            })

    except RequestLimitError:
        # å¦‚æœè¿˜æ˜¯è¢«é™åˆ¶ï¼Œé™çº§åˆ° QMT ä¼°ç®—
        dde_estimated = calc_dde_from_qmt_tick(stock)
        final_picks.append({
            'stock': stock,
            'dde': dde_estimated,
            'source': 'QMT_ESTIMATED',
            'warning': 'âš ï¸ ä¼°ç®—å€¼ï¼Œä»…ä¾›å‚è€ƒ'
        })

# ç»“æœï¼š5-10 åªç²¾é€‰é¾™å¤´
```

---

## ğŸš€ å®Œæ•´å®ç°ä»£ç 

### é˜²å°ç¦ç­–ç•¥ç±»

```python
"""
é˜²æ­¢ AkShare å°ç¦çš„æ™ºèƒ½è°ƒç”¨ç­–ç•¥
"""

import time
from functools import lru_cache
from datetime import datetime, timedelta
import akshare as ak

class AkShareRateLimiter:
    """
    AkShare è¯·æ±‚é¢‘ç‡æ§åˆ¶å™¨
    """

    def __init__(
        self,
        max_requests_per_minute: int = 20,  # æ¯åˆ†é’Ÿæœ€å¤š 20 æ¬¡
        max_requests_per_hour: int = 200,   # æ¯å°æ—¶æœ€å¤š 200 æ¬¡
        retry_after_ban: int = 3600         # è¢«å°åç­‰å¾… 1 å°æ—¶
    ):
        self.max_rpm = max_requests_per_minute
        self.max_rph = max_requests_per_hour
        self.retry_after_ban = retry_after_ban

        self.request_history = []
        self.is_banned = False
        self.ban_until = None

    def can_request(self) -> bool:
        """æ£€æŸ¥æ˜¯å¦å¯ä»¥å‘èµ·è¯·æ±‚"""

        # æ£€æŸ¥æ˜¯å¦åœ¨å°ç¦æœŸ
        if self.is_banned:
            if datetime.now() < self.ban_until:
                return False
            else:
                self.is_banned = False
                self.ban_until = None

        now = datetime.now()

        # æ¸…ç†è¿‡æœŸè®°å½•
        self.request_history = [
            t for t in self.request_history
            if now - t < timedelta(hours=1)
        ]

        # æ£€æŸ¥é¢‘ç‡é™åˆ¶
        recent_minute = [t for t in self.request_history if now - t < timedelta(minutes=1)]
        recent_hour = self.request_history

        if len(recent_minute) >= self.max_rpm:
            return False

        if len(recent_hour) >= self.max_rph:
            return False

        return True

    def record_request(self):
        """è®°å½•è¯·æ±‚"""
        self.request_history.append(datetime.now())

    def record_ban(self):
        """è®°å½•è¢«å°ç¦"""
        self.is_banned = True
        self.ban_until = datetime.now() + timedelta(seconds=self.retry_after_ban)
        print(f"âš ï¸ [AkShare] æ£€æµ‹åˆ°å°ç¦ï¼Œæš‚åœè‡³ {self.ban_until.strftime('%H:%M:%S')}")

    def wait_if_needed(self):
        """å¦‚æœéœ€è¦ï¼Œç­‰å¾…åˆ°å¯ä»¥è¯·æ±‚"""
        if not self.can_request():
            if self.is_banned:
                wait_seconds = (self.ban_until - datetime.now()).total_seconds()
                print(f"â³ [AkShare] å°ç¦ä¸­ï¼Œç­‰å¾… {wait_seconds:.0f} ç§’...")
                time.sleep(wait_seconds + 1)
            else:
                # ç­‰å¾…åˆ°ä¸‹ä¸€åˆ†é’Ÿ
                time.sleep(3)


# å…¨å±€é™æµå™¨
_rate_limiter = AkShareRateLimiter()


def safe_akshare_call(func, *args, fallback_value=None, **kwargs):
    """
    å®‰å…¨è°ƒç”¨ AkShareï¼ˆå¸¦é¢‘ç‡æ§åˆ¶å’Œå¼‚å¸¸å¤„ç†ï¼‰

    Args:
        func: AkShare å‡½æ•°ï¼ˆå¦‚ ak.stock_individual_fund_flowï¼‰
        fallback_value: å¤±è´¥æ—¶çš„é™çº§è¿”å›å€¼

    Returns:
        æ•°æ® or fallback_value
    """
    # ç­‰å¾…é¢‘ç‡é™åˆ¶
    _rate_limiter.wait_if_needed()

    try:
        # å‘èµ·è¯·æ±‚
        result = func(*args, **kwargs)

        # è®°å½•æˆåŠŸè¯·æ±‚
        _rate_limiter.record_request()

        return result

    except Exception as e:
        error_msg = str(e).lower()

        # æ£€æŸ¥æ˜¯å¦è¢«å°ç¦
        if any(keyword in error_msg for keyword in ['403', 'forbidden', 'limit', 'rate']):
            _rate_limiter.record_ban()

        print(f"âŒ [AkShare] è¯·æ±‚å¤±è´¥: {e}")

        return fallback_value


def get_dde_with_fallback(stock_code: str) -> dict:
    """
    è·å– DDEï¼ˆå¸¦é™çº§ï¼‰

    ä¼˜å…ˆ AkShare â†’ é™çº§ QMT ä¼°ç®—
    """
    # å°è¯• AkShare
    result = safe_akshare_call(
        ak.stock_individual_fund_flow,
        stock=stock_code,
        fallback_value=None
    )

    if result is not None:
        return {
            'value': result['å‡€æµå…¥'],
            'source': 'AKSHARE',
            'accuracy': 'Â±5%',
            'reliable': True
        }

    # é™çº§åˆ° QMT ä¼°ç®—
    print(f"âš ï¸ [{stock_code}] AkShare å¤±è´¥ï¼Œé™çº§åˆ° QMT ä¼°ç®—")

    dde_estimated = calc_dde_from_qmt_tick(stock_code)

    return {
        'value': dde_estimated,
        'source': 'QMT_ESTIMATED',
        'accuracy': 'Â±30%',
        'reliable': False,
        'warning': 'âš ï¸ åŸºäºç›˜å£ä¼°ç®—ï¼Œä»…ä¾›å‚è€ƒ'
    }
```

### æˆ˜æ³•æ‰«æä¼˜åŒ–ç‰ˆ

```python
def scan_dragon_stocks_with_smart_filtering():
    """
    é¾™å¤´æˆ˜æ³•æ‰«æï¼ˆé˜²å°ç¦ä¼˜åŒ–ç‰ˆï¼‰
    """

    print("ğŸš€ [ç¬¬ä¸€å±‚] ä½¿ç”¨ QMT å¿«é€Ÿæµ·é€‰...")

    # ========== ç¬¬ä¸€å±‚ï¼šQMT å¿«é€Ÿè¿‡æ»¤ï¼ˆ5000 â†’ 50ï¼‰ ==========
    candidates = []

    for stock in all_5000_stocks:
        # QMT æ•°æ®ï¼ˆæ¯«ç§’çº§ï¼Œæ— é™åˆ¶ï¼‰
        tick = xtdata.get_full_tick([stock])
        hist = xtdata.get_market_data([stock], period='1d', count=60)

        # åŸºç¡€è¿‡æ»¤ï¼ˆä¸ä¾èµ– DDEï¼‰
        if not passes_basic_filter(tick, hist):
            continue

        # é€šè¿‡åŸºç¡€è¿‡æ»¤
        candidates.append({
            'stock': stock,
            'tick': tick,
            'hist': hist
        })

    print(f"âœ… [ç¬¬ä¸€å±‚] ç­›é€‰å‡º {len(candidates)} åªå€™é€‰è‚¡ç¥¨")

    # ========== ç¬¬äºŒå±‚ï¼šAkShare ç²¾å‡†åˆ†æï¼ˆ50 â†’ 10ï¼‰ ==========
    print(f"ğŸ¯ [ç¬¬äºŒå±‚] ä½¿ç”¨ AkShare ç²¾å‡†åˆ†æ {len(candidates)} åªå€™é€‰è‚¡...")

    final_picks = []
    akshare_success = 0
    qmt_fallback = 0

    for candidate in candidates:
        stock = candidate['stock']

        # å®‰å…¨è°ƒç”¨ AkShareï¼ˆå¸¦é¢‘ç‡æ§åˆ¶ï¼‰
        dde_data = get_dde_with_fallback(stock)

        # ç»Ÿè®¡æˆåŠŸç‡
        if dde_data['source'] == 'AKSHARE':
            akshare_success += 1
        else:
            qmt_fallback += 1

        # ç²¾å‡†åˆ¤æ–­
        if dde_data['value'] > 1000:  # DDE > 1000ä¸‡
            final_picks.append({
                **candidate,
                'dde': dde_data
            })

        # æ§åˆ¶è¯·æ±‚é€Ÿåº¦
        time.sleep(0.5)  # æ¯æ¬¡é—´éš” 0.5 ç§’

    print(f"âœ… [ç¬¬äºŒå±‚] å®Œæˆï¼")
    print(f"  - AkShare æˆåŠŸ: {akshare_success} åª")
    print(f"  - QMT é™çº§: {qmt_fallback} åª")
    print(f"  - æœ€ç»ˆç²¾é€‰: {len(final_picks)} åª")

    return final_picks


def passes_basic_filter(tick, hist) -> bool:
    """
    åŸºç¡€è¿‡æ»¤æ¡ä»¶ï¼ˆä¸ä¾èµ– DDEï¼Œåªç”¨ QMT æ•°æ®ï¼‰
    """
    try:
        # 1. æ¶¨åœæˆ–æ¥è¿‘æ¶¨åœ
        if tick['lastPrice'] < tick['upLimitPrice'] * 0.985:
            return False

        # 2. ä»·æ ¼èŒƒå›´ 10-50 å…ƒ
        if not (10 <= tick['lastPrice'] <= 50):
            return False

        # 3. æ”¾é‡ï¼ˆé‡æ¯” > 1.5ï¼‰
        volume_ratio = calc_volume_ratio(hist)
        if volume_ratio < 1.5:
            return False

        # 4. MA60 å‘ä¸Š
        ma60 = hist['close'].rolling(60).mean().iloc[-1]
        if tick['lastPrice'] < ma60:
            return False

        # 5. æ¢æ‰‹ç‡é€‚ä¸­ï¼ˆ3%-15%ï¼‰
        turnover = calc_turnover(tick, hist)
        if not (3 <= turnover <= 15):
            return False

        return True

    except Exception as e:
        return False
```

---

## ğŸ“Š å®é™…æ•ˆæœå¯¹æ¯”

### æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | è¯·æ±‚æ¬¡æ•° | è¢«å°æ¦‚ç‡ | å‡†ç¡®æ€§ | é€Ÿåº¦ |
|------|----------|----------|--------|------|
| çº¯ AkShareï¼ˆä¹‹å‰ï¼‰ | 5000æ¬¡ | ğŸ”´ 100% | â­â­â­â­â­ | ğŸ¢ æ…¢ |
| çº¯ QMTï¼ˆå¤‡é€‰ï¼‰ | 0æ¬¡ | âœ… 0% | â­â­â­ | âš¡ å¿« |
| åˆ†å±‚æ¶æ„ï¼ˆæ¨èï¼‰ | 50æ¬¡ | âœ… 0% | â­â­â­â­â­ | âš¡ å¿« |

### æ€§èƒ½æ•°æ®

**ä¼ ç»Ÿæ–¹æ¡ˆï¼ˆçº¯ AkShareï¼‰**ï¼š
- 5000 åªè‚¡ç¥¨ Ã— 2ç§’/åª = 10000 ç§’ = 2.8 å°æ—¶
- è¢«å°æ¦‚ç‡ï¼š100%

**åˆ†å±‚æ¶æ„**ï¼š
- ç¬¬ä¸€å±‚ï¼ˆQMTï¼‰ï¼š5000 åª Ã— 0.05ç§’ = 250 ç§’ = 4 åˆ†é’Ÿ
- ç¬¬äºŒå±‚ï¼ˆAkShareï¼‰ï¼š50 åª Ã— 2ç§’ = 100 ç§’ = 1.6 åˆ†é’Ÿ
- æ€»è®¡ï¼š5.6 åˆ†é’Ÿ
- è¢«å°æ¦‚ç‡ï¼š0%ï¼ˆåªè¯·æ±‚ 50 æ¬¡ï¼‰

---

## ğŸ¯ æœ€ç»ˆå»ºè®®

```python
# æ‚¨çš„é¾™å¤´æˆ˜æ³•åº”è¯¥è¿™æ ·è®¾è®¡ï¼š

def dragon_strategy_v2():
    """
    é¾™å¤´æˆ˜æ³• V2.0ï¼ˆé˜²å°ç¦ä¼˜åŒ–ï¼‰
    """

    # ç¬¬ä¸€å±‚ï¼šQMT å¿«é€Ÿæµ·é€‰
    # - æ¶¨åœæˆ–æ¥è¿‘æ¶¨åœï¼ˆQMTï¼‰
    # - ä»·æ ¼åˆç†ï¼ˆQMTï¼‰
    # - æ”¾é‡ï¼ˆQMTï¼‰
    # - MA60 å‘ä¸Šï¼ˆQMTï¼‰
    # - æ¢æ‰‹ç‡é€‚ä¸­ï¼ˆQMTï¼‰
    # â†’ ä» 5000 åªç¼©å°åˆ° 50 åª

    candidates = qmt_fast_filter(all_stocks)

    # ç¬¬äºŒå±‚ï¼šAkShare ç²¾å‡†åˆ†æ
    # - DDE å‡€æµå…¥ï¼ˆAkShareï¼‰
    # - å¤§å•ä¹°å…¥æ¯”ä¾‹ï¼ˆAkShareï¼‰
    # - ä¸»åŠ›èµ„é‡‘æµå‘ï¼ˆAkShareï¼‰
    # â†’ ä» 50 åªç¼©å°åˆ° 5-10 åª

    final_picks = akshare_precise_filter(candidates)

    # ç¬¬ä¸‰å±‚ï¼šäººå·¥å¤æ ¸
    # - æŸ¥çœ‹ K çº¿å½¢æ€
    # - åˆ†ææ¿å—çƒ­åº¦
    # - åˆ¤æ–­å¸‚åœºæƒ…ç»ª
    # â†’ æœ€ç»ˆå†³ç­–

    return final_picks
```

---

## âš ï¸ å…³é”®è®¤çŸ¥çº æ­£

### é”™è¯¯è§‚ç‚¹ 1

```
"QMT æ˜¯å®ç›˜äº¤æ˜“çº§ï¼Œå‡†ç¡®åº¦æé«˜"
```

**æ­£ç¡®ç†è§£**ï¼š
- âœ… QMT ä»·æ ¼æ•°æ®å‡†ç¡®ï¼ˆOHLCVï¼‰
- âœ… QMT ç›˜å£æ•°æ®å®æ—¶ï¼ˆæŒ‚å•ï¼‰
- âŒ QMT å…è´¹ç‰ˆæ— é€ç¬”æˆäº¤ï¼ˆæ— æ³•ç²¾ç¡®è®¡ç®— DDEï¼‰

### é”™è¯¯è§‚ç‚¹ 2

```
"AkShare æ˜¯çˆ¬è™«æ•°æ®ï¼Œä¼šæ¼ç®—"
```

**æ­£ç¡®ç†è§£**ï¼š
- âœ… AkShare é€ç¬”æˆäº¤æ•°æ®æ¥è‡ªäº¤æ˜“æ‰€ï¼ˆä¸ä¼šæ¼ï¼‰
- âœ… AkShare DDE ç®—æ³•æ¥è¿‘å®˜æ–¹ï¼ˆÂ±5%ï¼‰
- âš ï¸ AkShare æœ‰è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼ˆéœ€è¦åˆ†å±‚æ¶æ„ï¼‰

---

## ğŸ† æ€»ç»“

è¢«å°ç¦æ°æ°è¯´æ˜æ‚¨éœ€è¦åˆ†å±‚æ•°æ®æ¶æ„ï¼š

1. **ç¬¬ä¸€å±‚ï¼šQMT å¿«é€Ÿè¿‡æ»¤ï¼ˆ5000 â†’ 50ï¼‰**
2. **ç¬¬äºŒå±‚ï¼šAkShare ç²¾å‡†åˆ†æï¼ˆ50 â†’ 10ï¼‰**

**ä¼˜åŠ¿**ï¼š
- è¯·æ±‚æ¬¡æ•°ï¼šä» 5000 æ¬¡é™åˆ° 50 æ¬¡ï¼Œä¸ä¼šè¢«å°
- å‡†ç¡®æ€§ï¼šæœ€ç»ˆå†³ç­–ç”¨çš„æ˜¯ AkShare å‡†ç¡®æ•°æ®
- é€Ÿåº¦ï¼šä» 2.8 å°æ—¶é™åˆ° 5.6 åˆ†é’Ÿ

è¿™æ‰æ˜¯å·¥ä¸šçº§é‡åŒ–ç³»ç»Ÿçš„æ­£ç¡®è®¾è®¡ï¼

---

## ğŸ“‹ é™„å½•ï¼šä¸œæ–¹è´¢å¯Œèµ„é‡‘æµå‘å­—æ®µå®šä¹‰

| å­—æ®µ | å«ä¹‰ | è¯´æ˜ |
|------|------|------|
| f51 | ä¸»åŠ›å‡€æµå…¥ | **æ³¨æ„**ï¼šå®é™…æ˜¯ä¸­å•+å°å•ï¼ˆæ•£æˆ·èµ„é‡‘ï¼‰ |
| f52 | è¶…å¤§å•å‡€æµå…¥ | å•ç¬”â‰¥500æ‰‹ï¼Œæœºæ„èµ„é‡‘ |
| f53 | å¤§å•å‡€æµå…¥ | å•ç¬”100-500æ‰‹ï¼Œæ¸¸èµ„èµ„é‡‘ |
| f54 | ä¸­å•å‡€æµå…¥ | å•ç¬”20-100æ‰‹ï¼Œä¸­ç­‰æ•£æˆ· |
| f55 | å°å•å‡€æµå…¥ | å•ç¬”<20æ‰‹ï¼Œå°æ•£æˆ· |

**é‡è¦å‘ç°**ï¼š
- `f51 (ä¸»åŠ›å‡€æµå…¥) = f54 (ä¸­å•) + f55 (å°å•)`
- æœºæ„èµ„é‡‘ = `f52 (è¶…å¤§å•) + f53 (å¤§å•)`
- æ•£æˆ·èµ„é‡‘ = `f54 (ä¸­å•) + f55 (å°å•)`

**æ­£ç¡®åˆ†æ**ï¼š
- å¦‚æœ `f52 + f53 < 0` ä¸” `f54 + f55 > 0` â†’ **æœºæ„å‡ä»“ï¼Œæ•£æˆ·æ¥ç›˜**ï¼ˆæ¥ç›˜ä¿¡å·ï¼‰
- å¦‚æœ `f52 + f53 > 0` ä¸” `f54 + f55 < 0` â†’ **æœºæ„å¸ç­¹ï¼Œæ•£æˆ·é€ƒç¦»**ï¼ˆåº•éƒ¨æœºä¼šï¼‰