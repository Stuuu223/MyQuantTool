# MyQuantTool 工业级环境变量配置
# 复制此文件为 .env 并填入实际值
# .env 文件包含敏感信息，绝不应提交到Git (已加入.gitignore)
# ============================================================

# ============================================================
# 第一部分：系统运行环境隔离 (CTO强制)
# ============================================================
# 系统运行模式 (BACKTEST=回测, PAPER_TRADING=模拟盘, PRODUCTION=实盘)
# 默认必须是BACKTEST，切换PRODUCTION需要三重校验
SYSTEM_ENV=BACKTEST

# ============================================================
# 第二部分：数据源配置与VIP降级逻辑 (CTO强制)
# ============================================================
# Tushare API Token (回测云端数据源)
TUSHARE_TOKEN=your_tushare_token_here

# QMT VIP站点配置 (实盘极速数据源)
QMT_VIP_TOKEN=your_vip_token_here
QMT_VIP_SITES=vipsxmd1.thinktrader.net:55310,vipsxmd2.thinktrader.net:55310,dxzzmd1.thinktrader.net:55300,dxzzmd2.thinktrader.net:55300,ltzzmd1.thinktrader.net:55300,ltzzmd2.thinktrader.net:55300

# 数据源降级顺序 (CTO: VIP断了切本地，本地没数据切云端)
# 格式: 优先级1,优先级2,优先级3
# 可选值: QMT_VIP, QMT_LOCAL, TUSHARE
DATA_FALLBACK_ORDER=QMT_VIP,QMT_LOCAL,TUSHARE

# QMT本地配置
QMT_PATH=E:/qmt/userdata_mini

# ============================================================
# 第三部分：实盘交易的物理保险栓 (CTO强制 - 两万红线)
# ============================================================
# 交易模式 (SIMULATION=模拟, REAL=实盘)
# 默认必须是SIMULATION，切换REAL需要人工确认
TRADE_MODE=SIMULATION

# 绑定资金账号 (实盘必填)
TRADE_ACCOUNT_ID=your_account_id_here

# 最大交易金额上限 (元) - 绝对防线！
# 策略下单金额超过此值将被系统强制拦截
MAX_TRADE_AMOUNT=20000.00

# 单日最大亏损比例 (触发熔断)
MAX_DAILY_LOSS_RATIO=0.05

# 最大回撤比例 (触发系统暂停)
MAX_DRAWDOWN_RATIO=0.12

# ============================================================
# 第四部分：回测与策略参数
# ============================================================
# 回测初始资金
INITIAL_CAPITAL=20000.0

# 持仓上限比例 (相对于总资金)
MAX_POSITION_RATIO=0.95

# 数据库配置
DATABASE_URL=sqlite:///data/stock_data.db

# 日志级别 (DEBUG/INFO/WARNING/ERROR)
LOG_LEVEL=INFO

# ============================================================
# CTO安全警告 (必读)
# ============================================================
# 1. 永远不要提交.env文件到Git！
# 2. 实盘前必须确认：TRADE_MODE=REAL 且 SYSTEM_ENV=PRODUCTION
# 3. MAX_TRADE_AMOUNT是最后一道防线，绝不要超过你的风险承受能力！
# 4. VIP Token只在实盘PRODUCTION模式下使用，回测使用Tushare