# MyQuantTool QMT原教旨主义环境配置
# 复制此文件为 .env 并填入实际值
# 此文件包含敏感信息，绝不应提交到Git
# ============================================================

# ============================================================
# 第一部分：系统运行环境隔离 (CTO强制)
# ============================================================
# 系统运行模式 (BACKTEST=回测, PAPER_TRADING=模拟盘, PRODUCTION=实盘)
# 默认必须是BACKTEST，切换PRODUCTION需要三重校验
SYSTEM_ENV=BACKTEST

# ============================================================
# 第二部分：QMT数据源配置 (QMT原教旨主义 - 禁止Tushare降级)
# ============================================================
# 
# 老板定调：
# "如果连QMT Level-1都出问题，就停下来修，Tushare无法代替QMT"
#
# 数据流：
# 1. 优先尝试VIP Level-2 (如果配置了Token)
# 2. VIP失败或无权限 -> 降级到本地Level-1 + Tick推断算法
# 3. Level-1也失败 -> 触发熔断，禁止交易该股票
#
# 绝对禁止：降级到Tushare或任何第三方云端接口

# QMT VIP站点配置 (实盘极速数据源)
# 如果VIP Token过期或无效，系统自动切换到本地Level-1 + 推断算法
QMT_VIP_TOKEN=your_vip_token_here
QMT_VIP_SITES=vipsxmd1.thinktrader.net:55310,vipsxmd2.thinktrader.net:55310,dxzzmd1.thinktrader.net:55300,dxzzmd2.thinktrader.net:55300,ltzzmd1.thinktrader.net:55300,ltzzmd2.thinktrader.net:55300

# QMT本地配置
QMT_PATH=E:/qmt/userdata_mini

# 熔断配置
# QMT数据不可用时是否触发熔断 (true=熔断停机, false=继续运行但标记数据缺失)
CIRCUIT_BREAKER_ENABLED=true

# ============================================================
# 第三部分：Tushare配置 (仅用于粗筛，禁止作为数据源降级)
# ============================================================
# Tushare仅用于：
# - 每日股票池粗筛 (5000只->约500只)
# - 基础财务数据获取
# 禁止用于：
# - Tick数据获取 (QMT不可替代)
# - 实时行情 (QMT不可替代)
TUSHARE_TOKEN=your_tushare_token_here

# ============================================================
# 第四部分：实盘交易的物理保险栓 (CTO强制 - 两万红线)
# ============================================================
# 交易模式 (SIMULATION=模拟, REAL=实盘)
# 默认必须是SIMULATION，切换REAL需要人工确认
TRADE_MODE=SIMULATION

# 绑定资金账号 (实盘必填)
TRADE_ACCOUNT_ID=your_account_id_here

# 最大交易金额上限 (元) - 绝对防线！
# 策略下单金额超过此值将被系统强制拦截
# CTO红线: 超过50000拒绝启动
MAX_TRADE_AMOUNT=20000.00

# 单日最大亏损比例 (触发熔断)
MAX_DAILY_LOSS_RATIO=0.05

# 最大回撤比例 (触发系统暂停)
MAX_DRAWDOWN_RATIO=0.12

# ============================================================
# 第五部分：回测与策略参数
# ============================================================
# 回测初始资金
INITIAL_CAPITAL=20000.0

# 持仓上限比例 (相对于总资金)
MAX_POSITION_RATIO=0.95

# 数据库配置
DATABASE_URL=sqlite:///data/stock_data.db

# 日志级别 (DEBUG/INFO/WARNING/ERROR)
LOG_LEVEL=INFO

# ============================================================
# CTO安全警告 (必读)
# ============================================================
# 1. 永远不要提交.env文件到Git！
# 2. 实盘前必须确认：
#    - SYSTEM_ENV=PRODUCTION
#    - TRADE_MODE=REAL
#    - TRADE_ACCOUNT_ID已填写正确
#    - MAX_TRADE_AMOUNT已根据风险承受能力设置
# 3. QMT是唯一直数据源，如果QMT失败系统会熔断停机
# 4. Level-1 Tick推断算法是全息回演验证的核心竞争力
